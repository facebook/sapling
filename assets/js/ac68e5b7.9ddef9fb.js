(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["2041"],{32407:function(e,n,i){"use strict";i.r(n),i.d(n,{metadata:()=>l,contentTitle:()=>f,default:()=>y,assets:()=>w,toc:()=>v,frontMatter:()=>j});var l=JSON.parse('{"id":"introduction/installation","title":"Installation","description":"The latest release is .","source":"@site/docs/introduction/installation.md","sourceDirName":"introduction","slug":"/introduction/installation","permalink":"/docs/introduction/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/sapling/tree/main/website/docs/introduction/installation.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"Sapling SCM","permalink":"/docs/introduction/"},"next":{"title":"Release notes","permalink":"/docs/introduction/release-notes"}}'),s=i("85893"),t=i("50065"),o=i("44098"),r=i("26702");let a=[{apiUrl:"https://api.github.com/repos/facebook/sapling/releases/assets/210828204",contentType:"application/x-gtar",createdAt:"2024-12-03T20:48:28Z",downloadCount:35,id:"RA_kwDOA3c_bc4MkPus",label:"",name:"sapling_0.2.20241203-120811+a2174689.arm64_ventura.bottle.tar.gz",size:0x1ec96f1,state:"uploaded",updatedAt:"2024-12-03T20:48:29Z",url:"https://github.com/facebook/sapling/releases/download/0.2.20241203-120811%2Ba2174689/sapling_0.2.20241203-120811%2Ba2174689.arm64_ventura.bottle.tar.gz"},{apiUrl:"https://api.github.com/repos/facebook/sapling/releases/assets/210828556",contentType:"application/x-debian-package",createdAt:"2024-12-03T20:51:30Z",downloadCount:40,id:"RA_kwDOA3c_bc4MkP0M",label:"",name:"sapling_0.2.20241203-120811+a2174689_amd64.Ubuntu20.04.deb",size:0x136df9c,state:"uploaded",updatedAt:"2024-12-03T20:51:31Z",url:"https://github.com/facebook/sapling/releases/download/0.2.20241203-120811%2Ba2174689/sapling_0.2.20241203-120811%2Ba2174689_amd64.Ubuntu20.04.deb"},{apiUrl:"https://api.github.com/repos/facebook/sapling/releases/assets/210828578",contentType:"application/x-debian-package",createdAt:"2024-12-03T20:51:45Z",downloadCount:1649,id:"RA_kwDOA3c_bc4MkP0i",label:"",name:"sapling_0.2.20241203-120811+a2174689_amd64.Ubuntu22.04.deb",size:0x14b3140,state:"uploaded",updatedAt:"2024-12-03T20:51:46Z",url:"https://github.com/facebook/sapling/releases/download/0.2.20241203-120811%2Ba2174689/sapling_0.2.20241203-120811%2Ba2174689_amd64.Ubuntu22.04.deb"},{apiUrl:"https://api.github.com/repos/facebook/sapling/releases/assets/210833684",contentType:"application/zip",createdAt:"2024-12-03T21:11:39Z",downloadCount:223,id:"RA_kwDOA3c_bc4MkREU",label:"",name:"sapling_windows_0.2.20241203-120811+a2174689_amd64.zip",size:0x2cc64cc,state:"uploaded",updatedAt:"2024-12-03T21:11:40Z",url:"https://github.com/facebook/sapling/releases/download/0.2.20241203-120811%2Ba2174689/sapling_windows_0.2.20241203-120811%2Ba2174689_amd64.zip"}],d="0.2.20241203-120811+a2174689";function c(e){for(let n of a)if(n.name.includes(e))return n;return null}let u=d,h=c("arm64_ventura.bottle.tar.gz"),p=c("Ubuntu20.04.deb"),x=c("Ubuntu22.04.deb"),m=c("sapling_windows");var g=i("69812"),b=i.n(g);let j={sidebar_position:10},f="Installation",w={},v=[{value:"Prebuilt binaries",id:"prebuilt-binaries",level:2},{value:"macOS",id:"macos",level:3},{value:"Installing from Homebrew-core",id:"installing-from-homebrew-core",level:4},{value:"Installing from our prebuilt bottles",id:"installing-from-our-prebuilt-bottles",level:4},{value:"Apple silicon (arm64)",id:"apple-silicon-arm64",level:5},{value:"Windows",id:"windows",level:3},{value:"Linux",id:"linux",level:3},{value:"Ubuntu 22.04",id:"ubuntu-2204",level:4},{value:"Ubuntu 20.04",id:"ubuntu-2004",level:4},{value:"Arch Linux (AUR)",id:"arch-linux-aur",level:4},{value:"Other Linux distros",id:"other-linux-distros",level:4},{value:"Building from source",id:"building-from-source",level:2}];function k(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"installation",children:"Installation"})}),"\n",(0,s.jsxs)("p",{children:["The ",(0,s.jsx)("a",{href:o.latestReleasePage,children:"latest release"})," is ",(0,s.jsx)("code",{children:u}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"prebuilt-binaries",children:"Prebuilt binaries"}),"\n",(0,s.jsx)(n.h3,{id:"macos",children:"macOS"}),"\n",(0,s.jsxs)(n.p,{children:["First, make sure that ",(0,s.jsx)(n.a,{href:"https://brew.sh/",children:"Homebrew"})," is installed on your system. Then either install directly from Homebrew-core or install the bottle released by us:"]}),"\n",(0,s.jsx)(n.h4,{id:"installing-from-homebrew-core",children:"Installing from Homebrew-core"}),"\n",(0,s.jsx)(n.p,{children:"Just run:"}),"\n",(0,s.jsx)(b(),{children:(0,s.jsx)(n.p,{children:"brew install sapling"})}),"\n",(0,s.jsx)(n.h4,{id:"installing-from-our-prebuilt-bottles",children:"Installing from our prebuilt bottles"}),"\n",(0,s.jsx)(n.p,{children:"Follow the instructions depending on your architecture."}),"\n",(0,s.jsx)(n.h5,{id:"apple-silicon-arm64",children:"Apple silicon (arm64)"}),"\n",(0,s.jsxs)(n.p,{children:["Download using ",(0,s.jsx)(n.code,{children:"curl"}),":"]}),"\n",(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:["curl -L -o ",h.name," ",h.url]})}),"\n",(0,s.jsx)(n.p,{children:"Then install:"}),"\n",(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:["brew install ./",h.name]})}),"\n",(0,s.jsxs)(n.admonition,{type:"caution",children:[(0,s.jsxs)(n.p,{children:["Downloading the bottle using a web browser instead of ",(0,s.jsx)(n.code,{children:"curl"}),' will cause macOS to tag Sapling as "untrusted" and the security manager will prevent you from running it. You can remove this annotation as follows:']}),(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:["xattr -r -d com.apple.quarantine ~/Downloads/",h.name]})})]}),"\n",(0,s.jsx)(n.p,{children:"Note that to clone larger repositories, you need to change the open files limit. We recommend doing it now so it doesn't bite you in the future:"}),"\n",(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:['echo "ulimit -n ',(0,s.jsx)(n.a,{href:"https://github.com/facebook/sapling/commit/1048576",children:(0,s.jsx)(n.code,{children:"1048576"})}),'" >> ~/.bash_profile',"\n",'\necho "ulimit -n ',(0,s.jsx)(n.a,{href:"https://github.com/facebook/sapling/commit/1048576",children:(0,s.jsx)(n.code,{children:"1048576"})}),'" >> ~/.zshrc']})}),"\n",(0,s.jsx)(n.h3,{id:"windows",children:"Windows"}),"\n",(0,s.jsxs)(n.p,{children:["After downloading the ",(0,s.jsx)(n.code,{children:"sapling_windows"})," ZIP from the ",(0,s.jsx)("a",{href:o.latestReleasePage,children:"latest release"}),", run the following in PowerShell as Administrator (substituting the name of the ",(0,s.jsx)(n.code,{children:".zip"})," file you downloaded, as appropriate):"]}),"\n",(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:["Expand-Archive ~/Downloads/",m.name," 'C:\\Program Files'","\n"]})}),"\n",(0,s.jsxs)(n.p,{children:["This will create ",(0,s.jsx)(n.code,{children:"C:\\Program Files\\Sapling"}),", which you likely want to add to your ",(0,s.jsx)(n.code,{children:"%PATH%"})," environment variable using:"]}),"\n",(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:['setx PATH "$env',":PATH",';C:\\Program Files\\Sapling" -m']})}),"\n",(0,s.jsx)(n.p,{children:"Note the following tools must be installed to leverage Sapling's full feature set:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://git-scm.com/download/win",children:"Git for Windows"})," is required to use Sapling with Git repositories"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://nodejs.org/en/download/",children:"Node.js"})," (v16 or later) is required to use ",(0,s.jsx)(r.Xj,{name:"web"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Note that the name of the Sapling CLI ",(0,s.jsx)(n.code,{children:"sl.exe"})," conflicts with the ",(0,s.jsx)(n.code,{children:"sl"})," shell built-in in PowerShell (",(0,s.jsx)(n.code,{children:"sl"})," is an alias for ",(0,s.jsx)(n.code,{children:"Set-Location"}),", which is equivalent to ",(0,s.jsx)(n.code,{children:"cd"}),"). If you want to use ",(0,s.jsx)(n.code,{children:"sl"})," to run ",(0,s.jsx)(n.code,{children:"sl.exe"})," in PowerShell, you must reassign the alias. Again, you must run the following as Administrator:"]}),"\n",(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:["Set-Alias -Name sl -Value 'C:\\Program Files\\Sapling\\sl.exe' -Force -Option Constant,ReadOnly,AllScope","\n","\nsl --version","\n","\nSapling ",u]})}),"\n",(0,s.jsx)(n.h3,{id:"linux",children:"Linux"}),"\n",(0,s.jsx)(n.h4,{id:"ubuntu-2204",children:"Ubuntu 22.04"}),"\n",(0,s.jsxs)(n.p,{children:["Download using ",(0,s.jsx)(n.code,{children:"curl"}),":"]}),"\n",(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:["curl -L -o ",x.name," ",x.url]})}),"\n",(0,s.jsx)(n.p,{children:"Then install:"}),"\n",(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:["sudo apt install -y ./",x.name]})}),"\n",(0,s.jsx)(n.h4,{id:"ubuntu-2004",children:"Ubuntu 20.04"}),"\n",(0,s.jsxs)(n.p,{children:["Download using ",(0,s.jsx)(n.code,{children:"curl"}),":"]}),"\n",(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:["curl -L -o ",p.name," ",p.url]})}),"\n",(0,s.jsx)(n.p,{children:"Then install:"}),"\n",(0,s.jsx)(b(),{children:(0,s.jsxs)(n.p,{children:["sudo apt install -y ./",p.name]})}),"\n",(0,s.jsx)(n.h4,{id:"arch-linux-aur",children:"Arch Linux (AUR)"}),"\n",(0,s.jsx)(b(),{children:(0,s.jsx)(n.p,{children:"yay -S sapling-scm-bin"})}),"\n",(0,s.jsx)(n.h4,{id:"other-linux-distros",children:"Other Linux distros"}),"\n",(0,s.jsx)(n.p,{children:"Sapling can be installed from Homebrew on Linux. First install Homebrew on your machine, then run"}),"\n",(0,s.jsx)(b(),{children:(0,s.jsx)(n.p,{children:"brew install sapling"})}),"\n",(0,s.jsx)(n.h2,{id:"building-from-source",children:"Building from source"}),"\n",(0,s.jsx)(n.p,{children:"In order to build from source, you need at least the following tools available in your environment:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Make"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"g++"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.rust-lang.org/tools/install",children:"Rust"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://nodejs.org",children:"Node.js"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://yarnpkg.com/getting-started/install",children:"Yarn"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For the full list, find the appropriate ",(0,s.jsx)(n.code,{children:"Dockerfile"})," for your platform that defines the image that is used for Sapling builds in automation to see which tools it installs. For example, ",(0,s.jsx)("a",{href:`${o.gitHubRepo}/blob/main/.github/workflows/sapling-cli-ubuntu-22.04.Dockerfile`,children:(0,s.jsx)("code",{children:".github/workflows/sapling-cli-ubuntu-22.04.Dockerfile"})})," reveals all of the packages you need to install via ",(0,s.jsx)(n.code,{children:"apt-get"})," in the host environment in order to build Sapling from source."]}),"\n",(0,s.jsx)(n.p,{children:"Once you have your environment set up, you can do a build on macOS or Linux as follows:"}),"\n",(0,s.jsx)("pre",{children:`\
git clone ${o.gitHubRepo}
cd ${o.gitHubRepoName}/eden/scm
make oss
./sl --help
`}),"\n",(0,s.jsx)(n.p,{children:"To build on FreeBSD, you'll also need to setup a terminfo database and use GNU Make for the build:"}),"\n",(0,s.jsx)("pre",{children:`\
pkg install gmake terminfo-db
export TERMINFO=/usr/local/share/terminfo
git clone ${o.gitHubRepo}
cd ${o.gitHubRepoName}/eden/scm
gmake oss
./sl --help
`}),"\n",(0,s.jsxs)(n.p,{children:["The Windows build has some additional dependencies and a separate build script. From the ",(0,s.jsx)(n.a,{href:"https://github.com/facebook/sapling/blob/main/.github/workflows/sapling-cli-windows-amd64-release.yml",children:"GitHub Action used to build the Windows release"}),", perform the steps that use ",(0,s.jsx)(n.a,{href:"https://vcpkg.io/",children:(0,s.jsx)(n.code,{children:"vcpkg"})})," on your local machine to install the additional dependencies. Then you can build and run Sapling on Windows as follows:"]}),"\n",(0,s.jsx)("pre",{children:`\
git clone ${o.gitHubRepo}
cd ${o.gitHubRepoName}/eden/scm
git config --system core.longpaths true
python3 .\\packaging\\windows\\build_windows_zip.py
.\\build\\embedded\\sl.exe --help
`}),"\n",(0,s.jsxs)(n.p,{children:["Once you have Sapling installed, follow the ",(0,s.jsx)(n.a,{href:"/docs/introduction/getting-started",children:"Getting Started"})," instructions."]})]})}function y(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(k,{...e})}):k(e)}},44098:function(e){let n="sapling",i=`https://github.com/facebook/${n}`;function l(e){return`${i}/${e}`}let s=l("releases/latest");e.exports={gitHubRepoName:n,gitHubRepo:i,gitHubRepoUrl:l,latestReleasePage:s}},26702:function(e,n,i){"use strict";i.d(n,{RJ:function(){return d},Xj:function(){return r},bv:function(){return a},mY:function(){return o},nk:function(){return c}});var l=i(85893);i(67294);var s=i(4757),t=i(37308);function o(e){let{name:n,linkText:i}=e,t=function(e){switch(e){case"go":return"goto";case"isl":return"web"}return e}(n),o=i??n;return(0,l.jsx)("a",{href:(0,s.default)(`/docs/commands/${t}`),children:(0,l.jsx)("code",{children:o})})}function r(e){let{name:n}=e;return(0,l.jsx)(o,{name:n,linkText:`sl ${n}`})}function a(){return(0,l.jsx)("p",{style:{textAlign:"center"},children:(0,l.jsx)("img",{src:(0,s.default)("/img/reviewstack-demo.gif"),width:800,align:"center"})})}function d(e){let{alt:n,light:i,dark:o}=e;return(0,l.jsx)(t.Z,{alt:n,sources:{light:(0,s.default)(i),dark:(0,s.default)(o)}})}function c(e){let{src:n}=e;return(0,l.jsx)("video",{controls:!0,children:(0,l.jsx)("source",{src:(0,s.default)(n)})})}},4089:function(){}}]);