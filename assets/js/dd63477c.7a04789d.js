"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["2401"],{52859:function(e,n,s){s.r(n),s.d(n,{metadata:()=>d,contentTitle:()=>o,default:()=>h,assets:()=>a,toc:()=>c,frontMatter:()=>i});var d=JSON.parse('{"id":"commands/addremove","title":"addremove","description":"addremove | addrm","source":"@site/docs/commands/addremove.md","sourceDirName":"commands","slug":"/commands/addremove","permalink":"/docs/commands/addremove","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/sapling/tree/main/website/docs/commands/addremove.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"add","permalink":"/docs/commands/add"},"next":{"title":"amend","permalink":"/docs/commands/amend"}}'),t=s("85893"),r=s("50065");let i={sidebar_position:2},o=void 0,a={},c=[{value:"addremove | addrm",id:"addremove--addrm",level:2},{value:"arguments",id:"arguments",level:2}];function l(e){let n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"addremove--addrm",children:"addremove | addrm"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"add all new files, delete all missing files"})}),"\n",(0,t.jsxs)(n.p,{children:["Start tracking all new files and stop tracking all missing files\nin the working copy. As with ",(0,t.jsx)(n.code,{children:"sl add"}),", these changes take\neffect at the next commit."]}),"\n",(0,t.jsxs)(n.p,{children:["Unless file names are given, new files are ignored if they match any of\nthe patterns in ",(0,t.jsx)(n.code,{children:".gitignore"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.code,{children:"-s/--similarity"})," option to detect renamed files. This\noption takes a percentage between 0 (disabled) and 100 (files must\nbe identical) as its parameter. With a parameter greater than 0,\nthis compares every removed file with every added file and records\nthose similar enough as renames. Detecting renamed files this way\ncan be expensive. After using this option, ",(0,t.jsx)(n.code,{children:"sl status -C"})," can be\nused to check which files were identified as moved or renamed. If\nnot specified, ",(0,t.jsx)(n.code,{children:"-s/--similarity"})," defaults to 100, only marking\nidentical files renamed."]}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Files bar.c and foo.c are new,  while foobar.c has been removed (without using ",(0,t.jsx)(n.code,{children:"sl remove"}),")  from the repository:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"$ ls\nbar.c foo.c\n$ sl status\n! foobar.c\n? bar.c\n? foo.c\n$ sl addremove\nadding bar.c\nadding foo.c\nremoving foobar.c\n$ sl status\nA bar.c\nA foo.c\nR foobar.c\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A file foobar.c was moved to foo.c without using ",(0,t.jsx)(n.code,{children:"sl rename"}),".  Afterwards, it was edited slightly:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"$ ls\nfoo.c\n$ sl status\n! foobar.c\n? foo.c\n$ sl addremove --similarity 90\nremoving foobar.c\nadding foo.c\nrecording removal of foobar.c as rename to foo.c (94% similar)\n$ sl status -C\nA foo.c\n  foobar.c\nR foobar.c\n"})}),"\n",(0,t.jsx)(n.p,{children:"Returns 0 if all files are successfully added/removed."}),"\n",(0,t.jsx)(n.h2,{id:"arguments",children:"arguments"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"shortname"}),(0,t.jsx)(n.th,{children:"fullname"}),(0,t.jsx)(n.th,{children:"default"}),(0,t.jsx)(n.th,{children:"description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-s"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--similarity"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"guess renamed files by similarity (0<=s<=100)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-I"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--include"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"include files matching the given patterns"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-X"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--exclude"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"exclude files matching the given patterns"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-n"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--dry-run"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"do not perform actions, just print output"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},50065:function(e,n,s){s.d(n,{Z:function(){return o},a:function(){return i}});var d=s(67294);let t={},r=d.createContext(t);function i(e){let n=d.useContext(r);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),d.createElement(r.Provider,{value:n},e.children)}}}]);