<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-internals/indexedlog">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">IndexedLog | Sapling</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sapling-scm.com/docs/internals/indexedlog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="IndexedLog | Sapling"><meta data-rh="true" name="description" content="IndexedLog is the main on-disk storage format used by various components in"><meta data-rh="true" property="og:description" content="IndexedLog is the main on-disk storage format used by various components in"><link data-rh="true" rel="icon" href="/img/Sapling_favicon-light-green-transparent-big.svg"><link data-rh="true" rel="canonical" href="https://sapling-scm.com/docs/internals/indexedlog"><link data-rh="true" rel="alternate" href="https://sapling-scm.com/docs/internals/indexedlog" hreflang="en"><link data-rh="true" rel="alternate" href="https://sapling-scm.com/docs/internals/indexedlog" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.faa99d4d.css">
<link rel="preload" href="/assets/js/runtime~main.a5fd55f1.js" as="script">
<link rel="preload" href="/assets/js/main.c10b9ad6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Sapling_icon-dark-green.svg" alt="Sapling Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Sapling_icon-dark-green.svg" alt="Sapling Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Sapling</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/sapling" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/introduction">Introduction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/overview">Overview</a><button aria-label="Toggle the collapsible sidebar category &#x27;Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/git-interop">Git Interop</a><button aria-label="Toggle the collapsible sidebar category &#x27;Git Interop&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/commands">Commands</a><button aria-label="Toggle the collapsible sidebar category &#x27;Commands&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/add-ons">Add-ons</a><button aria-label="Toggle the collapsible sidebar category &#x27;Add-ons&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/working-at-scale">Working at Scale</a><button aria-label="Toggle the collapsible sidebar category &#x27;Working at Scale&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/internals">Internals</a><button aria-label="Toggle the collapsible sidebar category &#x27;Internals&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/internals/drawdag">DrawDag</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/internals/indexedlog">IndexedLog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/internals/internal-difference-hg">Internal differences from Mercurial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/internals/linelog">LineLog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/internals/metalog">MetaLog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/internals/visibility-and-mutation">Visibility and mutation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/internals/zstdelta">ZstDelta</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>IndexedLog</h1><p>IndexedLog is the main on-disk storage format used by various components in
Sapling.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background">Background<a class="hash-link" href="#background" title="Direct link to heading">​</a></h2><p>Historically, <a href="https://www.mercurial-scm.org/wiki/Revlog" target="_blank" rel="noopener noreferrer">revlog</a> was the main
storage format, but it has a few limitations:</p><ul><li><strong>Revisions have to be topologically ordered.</strong> When revisions are fetched on
demand, if a later revision was fetched first, then it&#x27;s impossible to append
an older (ancestor) revision.</li><li><strong>Lookup by hash can trigger a linear scan.</strong> The slowness this causes
becomes noticeable when there are lots of revisions. It can be worked around
by building separate indexes.</li><li><strong>Not general purpose enough to fit various use-cases.</strong> For example, the
<a href="https://www.mercurial-scm.org/wiki/CEDObsstoreFormat" target="_blank" rel="noopener noreferrer">obsstore</a> would
require looking up a record by various indexes: predecessors or successors,
and one record can have multiple predecessors or successors. In Revlog, one
record can only have one SHA1 hash as its key.</li></ul><p><a href="https://git-scm.com" target="_blank" rel="noopener noreferrer">Git</a>&#x27;s format (loose and pack files) does not have the
topological order limitation, and lookup by hash is ideally O(log N), unless
there are too many pack files. But it requires periodical <code>repack</code> to maintain
performance, and does not support the multi-index use-case.</p><p><a href="https://www.sqlite.org/" target="_blank" rel="noopener noreferrer">SQLite</a> is a powerful library that satisfies the
multi-index use-cases, and can maintain time complexity without &quot;repack&quot;.
However, the main problem is that historically we use the &quot;append-only&quot;
strategy to achieve lock-free reads, but SQLite requires locking for both read
and write.</p><p>IndexedLog is built to achieve the following desired properties:</p><ul><li><strong>O(log N) lookup</strong> and does not require <code>repack</code> to maintain performance.</li><li><strong>Insertion by hash</strong> without topological order limitation.</li><li><strong>Lock-free reading</strong> which primarily means &quot;append-only larger files&quot; and
&quot;atomic-replace small files&quot; using the filesystem APIs we have today.
Transactional filesystem or chunk-level copy-on-write could make a
difference but they are generally not available.</li><li><strong>General purpose</strong> with multi-index and multi-key per entry support.</li></ul><p>In addition, we think the property below is nice to have:</p><ul><li><strong>Data integrity.</strong> In case of hard reboots, or accidental <code>sed -i</code> on the
repository data, we want to understand exactly what parts of the data are
corrupted, and have a way to recover.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="log">Log<a class="hash-link" href="#log" title="Direct link to heading">​</a></h2><p>An IndexedLog consists of a Log and multiple surrounding Indexes. The Log is
the single source of truth for the data. The indexes are derived purely from
the Log and index functions. Corrupted indexes can be deleted and rebuilt as
long as the Log is fine.</p><p>A Log stores entries in insertion order. An entry consists of a slice of
bytes. <code>Log</code> is interface-wise similar to <code>LinkedList&lt;Vec&lt;u8&gt;&gt;</code>, but only
accepts <code>push_back</code>, not <code>push_front</code>.</p><p>A Log supports the following operations:</p><ul><li>Iterate through all entries in insertion order.</li><li>Append a new entry to the end.</li></ul><p>A Log does not support:</p><ul><li>Read an entry by its offset (random access).</li><li>Remove an entry.</li></ul><p>Unlike a relational or document database, Log itself does not define the
meaning of the bytes in an entry. The meaning is up to the application to
decide.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="index">Index<a class="hash-link" href="#index" title="Direct link to heading">​</a></h2><p>A Log can have multiple indexes. An index has a name, and a pure function that
takes the byte slice of an entry, and outputs a list of <code>IndexOutput</code>s.</p><p>Each <code>IndexOutput</code> is an enum that instructs IndexedLog to do one of the
following:</p><ul><li>Insert a key (in bytes) that points to the current entry.</li><li>Remove a key or remove keys with a given prefix.</li></ul><p>Unlike databases, the index function is in native Rust and not a separate
language like SQL or JSON. Note that it is impossible to serialize a compiled
Rust function to disk, so applications need to provide the exact same index
functions when loading an IndexedLog from disk.</p><p>If you change an index function, you need to also change the index name to
prevent the IndexedLog from picking up the wrong index data.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="standalone-index">Standalone index<a class="hash-link" href="#standalone-index" title="Direct link to heading">​</a></h2><p>The Index can be used independently from Log. Its interface is similar
to <code>BTreeMap&lt;Vec&lt;u8&gt;, LinkedList&lt;u64&gt;&gt;</code>, but uses the filesystem instead of
memory for the main storage.</p><p>An Index supports:</p><ul><li>Insert (key, value). The value is inserted at the front of the existing
linked list. Alternatively, the existing linked list can be dropped.</li><li>Lookup keys by a range.</li><li>Delete keys in a range.</li></ul><p>Internally, the key portion of the index is a
<a href="https://en.wikipedia.org/wiki/Radix_tree" target="_blank" rel="noopener noreferrer">radix tree</a> where a node has 16
children (4 bits). This is used to support hex prefix lookup. The value portion
is a singly-linked list which supports <code>push_front</code>, but not <code>push_back</code>.</p><p>The on-disk format uses <a href="https://en.wikipedia.org/wiki/Persistent_data_structure#Trees" target="_blank" rel="noopener noreferrer">persistent data structure</a>
to achieve lock-free reading. The main index is append-only. The pointer to the
root tree node is a small piece of data tracked separately using
atomic-replace.</p><p>When used together with a Log, the <code>u64</code> part of <code>LinkedList&lt;u64&gt;</code> is used as
file offsets. The offsets are not exposed in public APIs of Log to avoid
misuse. The Log allows the on-disk indexes to lag for some entries because
updating the index for 1 entry takes O(log N) space, inefficient for frequent
small writes. The lagging portion of index will be built on demand in memory.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="concurrent-writes">Concurrent writes<a class="hash-link" href="#concurrent-writes" title="Direct link to heading">​</a></h2><p>When an IndexedLog (or a standalone Index) gets loaded from disk, it is like
taking a snapshot. Changes on disk afterwards won&#x27;t affect the already loaded
IndexedLog (as long as all writes to the files go through IndexedLog APIs).</p><p>Writes are buffered in memory, lock-free. They are invisible to other processes
or other already loaded IndexedLogs.</p><p>A <code>sync</code> operation is needed to write data to disk, or load changed data from
disk. The <code>sync</code> will take a filesystem lock to prevent other writers, pick up
the latest filesystem state if anything has changed on disk, write the updated
log and indexes to disk, then release the lock.</p><p>If 2 processes (or 2 IndexedLogs in one process) are <code>sync()</code>-ing to the same
IndexedLog on disk concurrently, both their pending changes will be written.
The order of the written data is unspecified, depends on which one obtains the
filesystem lock first.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-integrity">Data integrity<a class="hash-link" href="#data-integrity" title="Direct link to heading">​</a></h2><p>Both Log and Index use <a href="http://www.xxhash.com/" target="_blank" rel="noopener noreferrer">xxhash</a> for data integrity.
Log writes a XXH32 or XXH64 checksum per entry depending on the size of the
entry.  Index internally maintains checksum entries per 1MB data. All data
reading triggers integrity checks. Errors will be reported to the application.</p><p>IndexedLog supports a &quot;repair&quot; operation which truncates the Log to entries
that pass the integrity check and then rebuilds the corrupted or outdated
indexes.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rotatelog">RotateLog<a class="hash-link" href="#rotatelog" title="Direct link to heading">​</a></h2><p>RotateLog applies the
<a href="https://en.wikipedia.org/wiki/Log_rotation" target="_blank" rel="noopener noreferrer">log rotation</a> idea to IndexedLog.
RotateLog maintains a list of Logs. When a Log exceeds certain size limit,
RotateLog creates a new Log and optionally delete the oldest ones.</p><p>RotateLog is intended to be used for client-side caching, where the client
wants space usage to be bounded, and the data can be re-fetched from the
server.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebookexperimental/eden/tree/main/website/docs/internals/indexedlog.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/internals/drawdag"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DrawDag</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/internals/internal-difference-hg"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Internal differences from Mercurial</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li><li><a href="#log" class="table-of-contents__link toc-highlight">Log</a></li><li><a href="#index" class="table-of-contents__link toc-highlight">Index</a></li><li><a href="#standalone-index" class="table-of-contents__link toc-highlight">Standalone index</a></li><li><a href="#concurrent-writes" class="table-of-contents__link toc-highlight">Concurrent writes</a></li><li><a href="#data-integrity" class="table-of-contents__link toc-highlight">Data integrity</a></li><li><a href="#rotatelog" class="table-of-contents__link toc-highlight">RotateLog</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Useful Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/sapling" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/X6baZ94Vzh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/MetaOpenSource" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Meta Open Source<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Related Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ezyang/ghstack" target="_blank" rel="noopener noreferrer" class="footer__link-item">ghstack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebook/watchman" target="_blank" rel="noopener noreferrer" class="footer__link-item">Watchman<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebookexperimental/fb-vscode" target="_blank" rel="noopener noreferrer" class="footer__link-item">VS Code @ Meta<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/data-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.fb.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2022 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a5fd55f1.js"></script>
<script src="/assets/js/main.c10b9ad6.js"></script>
</body>
</html>