<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-overview/stacks" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Stacks of commits | Sapling</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://sapling-scm.com/docs/overview/stacks><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Stacks of commits | Sapling"><meta data-rh=true name=description content="Sapling provides first-class support for editing and manipulating stacks of commits."><meta data-rh=true property=og:description content="Sapling provides first-class support for editing and manipulating stacks of commits."><link data-rh=true rel=icon href=/img/Sapling_favicon-light-green-transparent-big.svg><link data-rh=true rel=canonical href=https://sapling-scm.com/docs/overview/stacks><link data-rh=true rel=alternate href=https://sapling-scm.com/docs/overview/stacks hreflang=en><link data-rh=true rel=alternate href=https://sapling-scm.com/docs/overview/stacks hreflang=x-default><link rel=stylesheet href=/assets/css/styles.061bfe20.css><script src=/assets/js/runtime~main.8d97461c.js defer></script><script src=/assets/js/main.2daf2b47.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id=internaldocs-banner></div><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/Sapling_icon-dark-green.svg alt="Sapling Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/Sapling_icon-dark-green.svg alt="Sapling Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Sapling</b></a><a class="navbar__item navbar__link" href=/docs/introduction/>Documentation</a></div><div class="navbar__items navbar__items--right"><a href=https://github.com/facebook/sapling target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class=navbar__search><span aria-label="expand searchbar" role=button class=search-icon tabindex=0></span><input id=search_input_react type=search placeholder=Loading... aria-label=Search class="navbar__search-input search-bar" disabled></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/introduction>Introduction</a><button aria-label="Expand sidebar category 'Introduction'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/category/overview>Overview</a><button aria-label="Collapse sidebar category 'Overview'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/overview/intro>Introduction</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/overview/basic-commands>Basic commands</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/overview/smartlog>Smartlog</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/overview/hide-unhide>Hide/Unhide</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/overview/navigation>Navigation</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/overview/bookmarks>Bookmarks</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/overview/stacks>Stacks of commits</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/overview/rebase>Rebase</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/overview/push-pull>Pull / push</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/overview/undo>Undo</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/overview/shelve>Shelve</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/git-interop>Git Interop</a><button aria-label="Expand sidebar category 'Git Interop'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/commands>Commands</a><button aria-label="Expand sidebar category 'Commands'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/add-ons>Add-ons</a><button aria-label="Expand sidebar category 'Add-ons'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/working-at-scale>Working at Scale</a><button aria-label="Expand sidebar category 'Working at Scale'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/dev/>Developer Guide</a><button aria-label="Expand sidebar category 'Developer Guide'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/faqs>FAQs</a></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/category/overview><span itemprop=name>Overview</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Stacks of commits</span><meta itemprop=position content=2></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Stacks of commits</h1></header>
<p>Sapling provides first-class support for editing and manipulating stacks of commits.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=amend>Amend<a href=#amend class=hash-link aria-label="Direct link to Amend" title="Direct link to Amend">​</a></h3>
<p>You can edit any commit in your stack by going to that commit (via <a href=/docs/commands/goto><code>goto</code></a>), making the desired modifications, and then running <a href=/docs/commands/amend><code>amend</code></a> to edit the commit. Keep in mind that if you make a mistake, you can always <a href=/docs/overview/undo>Undo</a> your changes!</p>
<div class="language-sl-shell-example codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sl-shell-example codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  d9a5aa3c7 </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 3 seconds ago  mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">  │</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  feature two</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta">@</span><span class="token sl-commit-draft sl-commit-current sl-commit-meta sl-hash">  8a644a0fd </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta"> 30 seconds ago  mary</span><span class="token sl-commit-draft sl-commit-current"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-current">╭─╯</span><span class="token sl-commit-draft sl-commit-current sl-commit-text">  feature one</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">│</span><span class="token sl-commit-public"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public"></span><span class="token sl-commit-public sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-hash">  ea609e1ef </span><span class="token sl-commit-public sl-commit-other sl-commit-meta"> 7 minutes ago </span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-bookmark"> remote/main</span><span class="token sl-commit-public sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public sl-commit-other">╷</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">~</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">echo "Add feature to myproject" >> myproject.cpp</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Apply changes to the current commit</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl amend</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl show .</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">...</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">diff --git a/myproject.cpp b/myproject.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">new file mode 100644</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">--- /dev/null</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">+++ b/myproject.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">@@ -0,0 +1,1 @@</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">+&lt;amended feature one impl></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=fold>Fold<a href=#fold class=hash-link aria-label="Direct link to Fold" title="Direct link to Fold">​</a></h3>
<p>If you have a stack of commits, you can fold commits down into a single commit with the <a href=/docs/commands/fold><code>fold</code></a> command. You can either specify <code>--from &lt;commit id></code> to specify a range of commits from your current commit to fold together or specify <code>--exact &lt;list of commit ids></code> to specify exact adjacent commits to fold together.</p>
<div class="language-sl-shell-example codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sl-shell-example codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  5dbd8043f </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 82 seconds ago  mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">  │</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  commit five</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta">@</span><span class="token sl-commit-draft sl-commit-current sl-commit-meta sl-hash">  bd057eb7f </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta"> 93 seconds ago  mary</span><span class="token sl-commit-draft sl-commit-current"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-current">  │</span><span class="token sl-commit-draft sl-commit-current sl-commit-text">  commit four</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  b65a4efb1 </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 113 seconds ago  mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">  │</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  commit three</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  ef7915cd2 </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 2 minutes ago mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">  │</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  commit two</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  398748c95 </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 2 minutes ago  mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">╭─╯</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  commit one</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">│</span><span class="token sl-commit-public"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public"></span><span class="token sl-commit-public sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-hash">  ea609e1ef </span><span class="token sl-commit-public sl-commit-other sl-commit-meta"> Today at 14:34 </span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-bookmark"> remote/main</span><span class="token sl-commit-public sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public sl-commit-other">╷</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">~</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl fold --from ef7915cd2</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># (equivalent to sl fold --exact ef7915cd2 b65a4efb1 bd057eb7f)</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output"> 3 changesets folded</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> update complete</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> rebasing 5dbd8043fd7e "commit five"</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> merging myproject.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> 5dbd8043fd7e -> debf0c562f6e "commit five"</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  debf0c562 </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 9 minutes ago  mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">  │</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  commit five</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta">@</span><span class="token sl-commit-draft sl-commit-current sl-commit-meta sl-hash">  3cf9adf66 </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta"> 2 minutes ago  mary</span><span class="token sl-commit-draft sl-commit-current"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-current">  │</span><span class="token sl-commit-draft sl-commit-current sl-commit-text">  commit two+three+four</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  398748c95 </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 10 minutes ago  mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">╭─╯</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  commit one</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">│</span><span class="token sl-commit-public"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public"></span><span class="token sl-commit-public sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-hash">  ea609e1ef </span><span class="token sl-commit-public sl-commit-other sl-commit-meta"> Today at 14:34 </span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-bookmark"> remote/main</span><span class="token sl-commit-public sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public sl-commit-other">╷</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">~</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=split>Split<a href=#split class=hash-link aria-label="Direct link to Split" title="Direct link to Split">​</a></h3>
<p>Use Sapling’s interactive editor interface to split the changes in one commit into two or more smaller commits.</p>
<div class="language-sl-shell-example codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sl-shell-example codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta">@</span><span class="token sl-commit-draft sl-commit-current sl-commit-meta sl-hash">  b86c5cb40 </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta"> 2 seconds ago  mary</span><span class="token sl-commit-draft sl-commit-current"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-current">╭─╯</span><span class="token sl-commit-draft sl-commit-current sl-commit-text">  feature one + two</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">│</span><span class="token sl-commit-public"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public"></span><span class="token sl-commit-public sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-hash">  ea609e1ef </span><span class="token sl-commit-public sl-commit-other sl-commit-meta"> Today at 14:34 </span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-bookmark"> remote/main</span><span class="token sl-commit-public sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public sl-commit-other">╷</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">~</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># we want to split apart feature one and feature two</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl split</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">Select hunks to record - [x]=selected **=collapsed c: confirm q: abort</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">arrow keys: move/expand/collapse space: deselect ?: help</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">[~] diff --git a/myproject.cpp b/myproject.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> new file mode 100644</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> [~] @@ -0,0 +1,3 @@</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> [x] +&lt;feature one></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> [ ] +</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> [ ] +&lt;feature two></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># &lt;press c></span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># &lt;enter new commit message for first commit></span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">Done splitting? [yN] y</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># remaining unselected changes go into second commit</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># &lt;enter new commit message for second commit></span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta">@</span><span class="token sl-commit-draft sl-commit-current sl-commit-meta sl-hash">  a305c853a </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta"> 41 seconds ago  mary</span><span class="token sl-commit-draft sl-commit-current"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-current">  │</span><span class="token sl-commit-draft sl-commit-current sl-commit-text">  feature two</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  619efe410 </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 2 minutes ago  mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">╭─╯</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  feature one</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">│</span><span class="token sl-commit-public"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public"></span><span class="token sl-commit-public sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-hash">  ea609e1ef </span><span class="token sl-commit-public sl-commit-other sl-commit-meta"> Today at 14:34 </span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-bookmark"> remote/main</span><span class="token sl-commit-public sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public sl-commit-other">╷</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">~</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=absorb>Absorb<a href=#absorb class=hash-link aria-label="Direct link to Absorb" title="Direct link to Absorb">​</a></h3>
<p>If you make changes while working at the top of a stack, the <a href=/docs/commands/absorb><code>absorb</code></a> command allows you to automatically amend those changes to commits lower in the stack. If there is an unambiguous commit which introduced the edited lines, the absorb command will prompt to apply those changes to that commit.</p>
<div class="language-sl-shell-example codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sl-shell-example codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta">@</span><span class="token sl-commit-draft sl-commit-current sl-commit-meta sl-hash">  a305c853a </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta"> 41 seconds ago  mary</span><span class="token sl-commit-draft sl-commit-current"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-current">  │</span><span class="token sl-commit-draft sl-commit-current sl-commit-text">  feature two</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  619efe410 </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 2 minutes ago  mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">╭─╯</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  feature one</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">│</span><span class="token sl-commit-public"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public"></span><span class="token sl-commit-public sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-hash">  ea609e1ef </span><span class="token sl-commit-public sl-commit-other sl-commit-meta"> Today at 14:34 </span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-bookmark"> remote/main</span><span class="token sl-commit-public sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public sl-commit-other">╷</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">~</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Edit part of "feature one", while we are on top of "feature two".</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">vim myproject.cpp</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl diff</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">diff --git a/myproject.cpp b/myproject.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">--- a/myproject.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">+++ b/myproject.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">@@ -1,3 +1,3 @@</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">-&lt;feature one></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">+&lt;modified feature one></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> &lt;feature two></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Absorb knows that commit 619efe4 introduced the edited lines.</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl absorb</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">showing changes for myproject.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">        @@ -0,1 +0,1 @@</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">619efe4 -&lt;feature one></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">619efe4 +&lt;modified feature one></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">1 commit affected</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">619efe4 feature one</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">apply changes (yn)?  **y**</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">619efe41024d -> cbf60a27cae4 "feature one"</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">a305c853a7b5 -> f656ac8c60c8 "feature two"</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">1 of 1 chunk applied</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Feature one commit now contains the modifications.</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta">@</span><span class="token sl-commit-draft sl-commit-current sl-commit-meta sl-hash">  f656ac8c8 </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta"> 11 seconds ago  mary</span><span class="token sl-commit-draft sl-commit-current"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-current">  │</span><span class="token sl-commit-draft sl-commit-current sl-commit-text">  feature two</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  cbf60a274 </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 11 seconds ago  mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">╭─╯</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  feature one</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">│</span><span class="token sl-commit-public"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public"></span><span class="token sl-commit-public sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-hash">  ea609e1ef </span><span class="token sl-commit-public sl-commit-other sl-commit-meta"> Today at 14:34 </span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-bookmark"> remote/main</span><span class="token sl-commit-public sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public sl-commit-other">╷</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">~</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=amend---to>Amend --to<a href=#amend---to class=hash-link aria-label="Direct link to Amend --to" title="Direct link to Amend --to">​</a></h3>
<p>Sometimes absorb cannot predict an appropriate commit to apply changes to. In this case you can try the command <code>sl amend --to</code> to specify exactly which commit to apply pending changes to.</p>
<div class="language-sl-shell-example codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sl-shell-example codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta">@</span><span class="token sl-commit-draft sl-commit-current sl-commit-meta sl-hash">  f656ac8c6 </span><span class="token sl-commit-draft sl-commit-current sl-commit-meta"> 30 minutes ago  mary</span><span class="token sl-commit-draft sl-commit-current"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-current">  │</span><span class="token sl-commit-draft sl-commit-current sl-commit-text">  feature two</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">  │</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"> </span><span class="token sl-commit-draft"> </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-draft sl-commit-other sl-commit-meta sl-hash">  cbf60a27c </span><span class="token sl-commit-draft sl-commit-other sl-commit-meta"> 30 minutes ago  mary</span><span class="token sl-commit-draft sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-draft sl-commit-other">╭─╯</span><span class="token sl-commit-draft sl-commit-other sl-commit-text">  feature one</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">│</span><span class="token sl-commit-public"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public"></span><span class="token sl-commit-public sl-commit-other sl-commit-meta">o</span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-hash">  ea609e1ef </span><span class="token sl-commit-public sl-commit-other sl-commit-meta"> Yesterday at 14:34 </span><span class="token sl-commit-public sl-commit-other sl-commit-meta sl-bookmark"> remote/main</span><span class="token sl-commit-public sl-commit-other"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token sl-commit-public sl-commit-other">╷</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">~</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Add new file for feature one.</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">vim myproject2.cpp</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl addremove</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">adding myproject2.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl diff</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">diff --git a/myproject2.cpp b/myproject2.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">new file mode 100644</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">--- /dev/null</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">+++ b/myproject2.cpp</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">@@ -0,0 +1,1 @@</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">+&lt;more pieces of feature one></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Since the changes are in a new file, absorb can't predict</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># which commit to apply any changes to.</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl absorb</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">nothing to absorb</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token output"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Use 'amend --to' to specify which commit to amend.</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token command shell-prompt">$</span><span class="token command"> </span><span class="token command shell-command">sl amend --to cbf60a27c</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token output">cbf60a27cae4 -> 768f3b26abc3 "feature one"</span><br></span><span class=token-line style=color:#bfc7d5><span class="token output">f656ac8c60c8 -> fe792a25079d "feature two"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/facebook/sapling/tree/main/website/docs/overview/stacks.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/overview/bookmarks><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Bookmarks</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/overview/rebase><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Rebase</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#amend class="table-of-contents__link toc-highlight">Amend</a><li><a href=#fold class="table-of-contents__link toc-highlight">Fold</a><li><a href=#split class="table-of-contents__link toc-highlight">Split</a><li><a href=#absorb class="table-of-contents__link toc-highlight">Absorb</a><li><a href=#amend---to class="table-of-contents__link toc-highlight">Amend --to</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Useful Links</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/facebook/sapling target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://discord.gg/X6baZ94Vzh target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://twitter.com/MetaOpenSource target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://opensource.fb.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>Meta Open Source<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Related Projects</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/ezyang/ghstack target=_blank rel="noopener noreferrer" class=footer__link-item>ghstack<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://github.com/facebook/watchman target=_blank rel="noopener noreferrer" class=footer__link-item>Watchman<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://github.com/facebookexperimental/fb-vscode target=_blank rel="noopener noreferrer" class=footer__link-item>VS Code @ Meta<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Legal</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://opensource.fb.com/legal/privacy/ target=_blank rel="noopener noreferrer" class=footer__link-item>Privacy<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://opensource.fb.com/legal/terms/ target=_blank rel="noopener noreferrer" class=footer__link-item>Terms<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://opensource.fb.com/legal/data-policy/ target=_blank rel="noopener noreferrer" class=footer__link-item>Data Policy<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://opensource.fb.com/legal/cookie-policy/ target=_blank rel="noopener noreferrer" class=footer__link-item>Cookie Policy<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><a href=https://opensource.fb.com rel="noopener noreferrer" class=footerLogoLink_BH7S><img src=/img/meta_opensource_logo_negative.svg alt="Meta Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/meta_opensource_logo_negative.svg alt="Meta Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class=footer__copyright>Copyright © 2025 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>