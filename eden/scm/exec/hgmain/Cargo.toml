# @generated by autocargo from //eden/scm:hg

[package]
name = "hgmain"
version = "0.1.0"
edition = "2024"
build = "build.rs"

[dependencies]
commands = { path = "../../lib/commands", default-features = false }
pyblackbox = { path = "../../saplingnative/bindings/modules/pyblackbox" }
sapling-atexit = { path = "../../lib/util/atexit" }
sapling-clidispatch = { path = "../../lib/clidispatch" }
sapling-configloader = { path = "../../lib/config/loader" }
tracing = { version = "0.1.41", features = ["attributes", "valuable"] }

[build-dependencies]
cc = "1.2.10"
sapling-python-sysconfig = { version = "0.1.0", path = "../../lib/util/python-sysconfig" }

[target.'cfg(target_os = "linux")'.dependencies]
dirs = { version = "6.0", optional = true }
libc = "0.2.139"
sapling-configmodel = { path = "../../lib/config/model" }
sapling-encoding = { path = "../../lib/encoding" }
sapling-identity = { path = "../../lib/identity", optional = true }
sapling-version = { path = "../../lib/version" }

[target.'cfg(target_os = "macos")'.dependencies]
dirs = { version = "6.0", optional = true }
libc = "0.2.139"
sapling-configmodel = { path = "../../lib/config/model" }
sapling-encoding = { path = "../../lib/encoding" }
sapling-identity = { path = "../../lib/identity", optional = true }
sapling-version = { path = "../../lib/version" }
sapling-webview-app = { path = "../../lib/webview-app" }

[target.'cfg(target_os = "windows")'.dependencies]
anyhow = "1.0.98"
winapi = { version = "0.3", features = ["everything", "std"] }

[features]
default = []
eden = ["commands/eden", "sapling-clidispatch/eden"]
fb = ["commands/fb"]
sl_oss = ["commands/sl_oss", "sapling-clidispatch/sl_oss"]
with_chg = ["dirs", "sapling-identity"]

[profile.release]
debug = true
lto = false
incremental = true
