---
phase: 01-layout-foundation
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - addons/components/theme/tokens.stylex.ts
  - addons/components/theme/themeDarkVariables.css
  - addons/isl/src/Drawers.css
autonomous: true

must_haves:
  truths:
    - "Background uses Graphite-style deep navy color (#1a1f36 range)"
    - "All three columns share the same background color"
    - "Soft blue accent color used for interactive elements"
    - "Subtle borders visible between sections"
    - "Text is readable against navy background"
  artifacts:
    - path: "addons/components/theme/tokens.stylex.ts"
      provides: "Graphite color palette tokens"
      contains: "graphiteColors"
    - path: "addons/components/theme/themeDarkVariables.css"
      provides: "Updated CSS custom properties with navy values"
      contains: "#1a1f36"
    - path: "addons/isl/src/Drawers.css"
      provides: "Applied navy background and border colors"
      contains: "var(--graphite-bg)"
  key_links:
    - from: "addons/isl/src/Drawers.css"
      to: "addons/components/theme/themeDarkVariables.css"
      via: "CSS custom properties"
      pattern: "var\\(--graphite"
    - from: "addons/components/theme/tokens.stylex.ts"
      to: "addons/components/theme/themeDarkVariables.css"
      via: "CSS variable references"
      pattern: "var\\(--graphite"
---

<objective>
Implement Graphite-inspired color scheme with deep navy backgrounds and muted tones.

Purpose: Transform the UI from VS Code's default dark theme to a Graphite-style aesthetic that's professional and easy on the eyes during long sessions.

Output: Deep navy backgrounds (#1a1f36), soft blue accents, readable text colors, and subtle borders throughout the three-column layout.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-layout-foundation/01-CONTEXT.md
@.planning/phases/01-layout-foundation/01-RESEARCH.md

# Key existing files
@addons/components/theme/tokens.stylex.ts
@addons/components/theme/themeDarkVariables.css
@addons/isl/src/Drawers.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Graphite color palette tokens and CSS variables</name>
  <files>addons/components/theme/tokens.stylex.ts, addons/components/theme/themeDarkVariables.css</files>
  <action>
In `tokens.stylex.ts`, add Graphite color palette as new StyleX vars:

```typescript
export const graphiteColors = stylex.defineVars({
  // Deep navy background (Graphite-style)
  bg: 'var(--graphite-bg)',
  bgSubtle: 'var(--graphite-bg-subtle)',

  // Text colors for readability on navy
  textPrimary: 'var(--graphite-text-primary)',
  textSecondary: 'var(--graphite-text-secondary)',

  // Soft blue accent for interactive elements
  accent: 'var(--graphite-accent)',
  accentHover: 'var(--graphite-accent-hover)',

  // Borders and dividers
  border: 'var(--graphite-border)',
  borderSubtle: 'var(--graphite-border-subtle)',

  // Hover states
  hoverBg: 'var(--graphite-hover-bg)',
  selectedBg: 'var(--graphite-selected-bg)',

  // Subtle glow for hover effects
  glowColor: 'var(--graphite-glow)',
});
```

In `themeDarkVariables.css`, add the actual color values inside `.dark-theme, .vscode-dark`:

```css
/* Graphite-inspired color palette */
--graphite-bg: #1a1f36;
--graphite-bg-subtle: #1e2440;

--graphite-text-primary: #e8eaed;
--graphite-text-secondary: #9aa0a6;

--graphite-accent: #4a90e2;
--graphite-accent-hover: #5fa3f5;

--graphite-border: rgba(255, 255, 255, 0.1);
--graphite-border-subtle: rgba(255, 255, 255, 0.05);

--graphite-hover-bg: rgba(255, 255, 255, 0.03);
--graphite-selected-bg: rgba(74, 144, 226, 0.15);

--graphite-glow: rgba(74, 144, 226, 0.15);
```

IMPORTANT:
- Add these ALONGSIDE existing variables, don't replace them
- The existing --background, --foreground etc. remain for VS Code theme integration
- Graphite colors are a new layer on top
  </action>
  <verify>
1. `grep -n "graphiteColors" addons/components/theme/tokens.stylex.ts` shows the export
2. `grep -n "#1a1f36" addons/components/theme/themeDarkVariables.css` shows the navy color
3. `yarn tsc --noEmit` in addons/ passes
4. `yarn build` in addons/isl/ succeeds
  </verify>
  <done>
- graphiteColors StyleX tokens exported
- CSS custom properties added to themeDarkVariables.css
- Navy background: #1a1f36
- Soft blue accent: #4a90e2
- Readable text colors defined
- TypeScript and StyleX compile without errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Apply Graphite colors to drawer layout</name>
  <files>addons/isl/src/Drawers.css</files>
  <action>
Update Drawers.css to use the new Graphite color palette:

1. Update `.drawers` (the main container):
   ```css
   background-color: var(--graphite-bg);
   color: var(--graphite-text-primary);
   ```

2. Update `.drawers-horizontal`:
   - Inherits background from parent
   - No changes needed unless override exists

3. Update `.drawer`:
   - Background: `var(--graphite-bg)` (same as main - unified look)
   - Border color for resize handle: `var(--graphite-border)`

4. Update `.drawer-main-content` (middle column):
   - Background: `var(--graphite-bg)` (same background)
   - Add subtle left/right borders: `border-left: 1px solid var(--graphite-border); border-right: 1px solid var(--graphite-border);`

5. Update `.drawer-label`:
   - Update border color: `border-color: var(--graphite-border)`
   - Hover background: `var(--graphite-hover-bg)`

6. Update `.resizable-drag-handle`:
   - Border color: `var(--graphite-border)`
   - Hover/resizing state: `var(--graphite-accent)`

AVOID:
- Don't override --background or --foreground (VS Code integration)
- Don't change text colors in drawer content (that's handled by components)
- Keep the drawer CSS structure intact

NOTE: The "subtle glow on hover" from CONTEXT.md can be added to interactive elements like drawer-label:
```css
.drawer-label:hover {
  background-color: var(--graphite-hover-bg);
  box-shadow: 0 0 4px var(--graphite-glow);
}
```
  </action>
  <verify>
1. `yarn dev` in addons/isl/ — application starts
2. Visual inspection: background is deep navy (#1a1f36 range)
3. Visual inspection: all three columns have same background
4. Visual inspection: subtle borders visible between panels
5. Visual inspection: text is readable against navy
6. Hover over drawer labels — subtle highlight visible
  </verify>
  <done>
- Main background is deep navy (#1a1f36)
- All three columns share the same background
- Subtle borders between sections (rgba white at 10% opacity)
- Text colors readable (primary: #e8eaed, secondary: #9aa0a6)
- Hover states use soft blue accent
- Subtle glow effect on hover states
  </done>
</task>

</tasks>

<verification>
After both tasks complete:

1. **Navy background verification:**
   - Start dev server: `cd addons && yarn dev`
   - Open ISL in browser
   - Background should be deep navy (noticeably different from VS Code default #1e1e1e)
   - Use browser dev tools to verify color is in #1a1f36 range

2. **Unified look verification:**
   - Left drawer, middle column, and right drawer all share same background
   - No jarring color differences between panels
   - Clean, professional appearance

3. **Contrast and readability:**
   - All text is readable against navy background
   - Links and interactive elements use soft blue (#4a90e2)
   - Secondary text is slightly muted but still readable

4. **Borders and separation:**
   - Subtle borders visible between columns
   - Borders don't dominate — "there but not distracting"

5. **Hover effects:**
   - Hover over drawer labels — subtle background change
   - Subtle glow visible on hover
   - Not "neon" or garish — professional and muted

6. **Build verification:**
   - `yarn build` in addons/isl/ succeeds
   - No CSS parse errors in browser console
</verification>

<success_criteria>
- Color scheme uses Graphite-style navy backgrounds and muted tones (STYLE-01)
- Deep navy background: #1a1f36 range
- Soft blue accents: #4a90e2 range
- Text readable on navy (primary #e8eaed, secondary #9aa0a6)
- Unified background across all three columns
- Subtle borders for section separation
- Subtle hover glow effects
- Existing VS Code theme integration preserved
</success_criteria>

<output>
After completion, create `.planning/phases/01-layout-foundation/01-03-SUMMARY.md`
</output>
