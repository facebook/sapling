---
phase: 01-layout-foundation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - addons/components/theme/tokens.stylex.ts
  - addons/isl/src/Drawers.css
autonomous: true

must_haves:
  truths:
    - "UI elements have visible breathing room (no cramped text or buttons)"
    - "Middle column (commit tree) has more visual prominence through spacing"
    - "Spacing values are consistent throughout the layout"
  artifacts:
    - path: "addons/components/theme/tokens.stylex.ts"
      provides: "Extended spacing tokens for layout breathing room"
      contains: "layoutSpacing"
    - path: "addons/isl/src/Drawers.css"
      provides: "Updated drawer padding and spacing"
      contains: "--drawer-padding"
  key_links:
    - from: "addons/isl/src/Drawers.css"
      to: "addons/components/theme/tokens.stylex.ts"
      via: "CSS custom properties for spacing"
      pattern: "var\\(--.*pad"
---

<objective>
Add proper spacing and padding throughout the three-column layout for breathing room.

Purpose: The current UI feels cramped. Users need visual breathing room so elements don't feel squeezed together.

Output: Extended spacing tokens and updated drawer CSS with consistent padding that creates a more comfortable, professional layout.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-layout-foundation/01-CONTEXT.md
@.planning/phases/01-layout-foundation/01-RESEARCH.md

# Key existing files
@addons/components/theme/tokens.stylex.ts
@addons/isl/src/Drawers.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extend StyleX spacing tokens for layout</name>
  <files>addons/components/theme/tokens.stylex.ts</files>
  <action>
Add a new set of layout-specific spacing tokens alongside the existing `spacing` object. This provides semantic spacing values for layout components:

```typescript
export const layoutSpacing = stylex.defineVars({
  // Drawer and panel internal padding
  drawerPadding: '16px',

  // Content section spacing
  sectionGap: '12px',

  // Compact internal padding for list items
  itemPadding: '8px',

  // Extra breathing room for prominent sections (middle column)
  prominentPadding: '20px',

  // Gap between columns/sections
  columnGap: '1px',  // Subtle border feel via gap
});
```

These values follow the CONTEXT.md guidance:
- Middle column gets more breathing room (prominentPadding)
- Consistent padding values throughout (drawerPadding, itemPadding)
- Subtle gaps for visual separation (columnGap)

IMPORTANT: Keep existing `spacing` object unchanged. Add `layoutSpacing` as a new export alongside it.
  </action>
  <verify>
1. `grep -n "layoutSpacing" addons/components/theme/tokens.stylex.ts` shows the new tokens
2. `yarn tsc --noEmit` in addons/ passes
3. `yarn build` in addons/isl/ succeeds (StyleX compilation works)
  </verify>
  <done>
- layoutSpacing tokens exported from tokens.stylex.ts
- Values: drawerPadding (16px), sectionGap (12px), itemPadding (8px), prominentPadding (20px)
- TypeScript compiles without errors
- StyleX builds without errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Update drawer CSS for breathing room</name>
  <files>addons/isl/src/Drawers.css</files>
  <action>
Update the Drawers.css file to add more breathing room. Use CSS custom properties to maintain consistency:

1. Add new CSS custom properties at the top of `.drawers`:
   ```css
   --drawer-padding: 16px;
   --section-gap: 12px;
   --item-padding: 8px;
   --prominent-padding: 20px;
   ```

2. Update `.drawer-main-content` (the middle column):
   - Add `padding: var(--prominent-padding)` for extra breathing room
   - This makes the commit tree (middle column) feel more spacious

3. Update drawer content area (`.drawer-left > div:nth-child(3)` and `.drawer-right > div:nth-child(3)`):
   - Add `padding: var(--drawer-padding)` for consistent internal spacing
   - Adjust width/height calculations if needed to account for padding

4. Update `.drawer-label`:
   - Change `padding: var(--halfpad)` to `padding: var(--item-padding)` for slightly more room
   - Or keep var(--halfpad) if that already looks good

5. Ensure the middle column has subtle visual elevation:
   - The existing flex-grow: 1 already makes it take remaining space
   - The extra padding will make it feel more prominent

AVOID: Don't break existing resize functionality. Don't remove the existing CSS custom properties (--drag-handle-size, --drawer-label-size, etc.).

NOTE: Since the middle column already takes all available space (flex-grow: 1), prominence comes from:
- More internal padding (--prominent-padding)
- The side drawers can have slightly smaller default sizes
  </action>
  <verify>
1. `yarn dev` in addons/isl/ â€” application starts
2. Visual inspection: middle column has more padding than side drawers
3. Visual inspection: content doesn't touch drawer edges
4. Resize handles still work
5. No CSS parse errors in browser console
  </verify>
  <done>
- CSS custom properties added for spacing (--drawer-padding, --prominent-padding)
- Middle column (.drawer-main-content) has extra padding
- Side drawer content areas have consistent padding
- Visual breathing room visible throughout layout
- Existing resize and toggle functionality preserved
  </done>
</task>

</tasks>

<verification>
After both tasks complete:

1. **Visual breathing room:**
   - Start dev server: `cd addons && yarn dev`
   - Open ISL in browser
   - Content should not touch edges of any panel
   - Middle column should feel more spacious than side panels

2. **Spacing consistency:**
   - Left drawer content has consistent padding
   - Right drawer content has consistent padding
   - Middle column has visibly more padding (prominence)

3. **No regressions:**
   - Drawer resize handles still work
   - Drawer collapse/expand still works
   - Content is still visible and readable
   - No overflow/clipping issues

4. **Build verification:**
   - `yarn build` in addons/isl/ succeeds
   - No StyleX compilation errors
</verification>

<success_criteria>
- UI elements have visible breathing room (LAYOUT-02)
- Middle column is more prominent through extra spacing
- Spacing values are consistent via CSS custom properties
- Existing drawer functionality preserved
- StyleX and CSS build without errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-layout-foundation/01-02-SUMMARY.md`
</output>
